<form class="inner_body">
  <fieldset class="form-group ">
      <legend>Filter</legend>
        <div class="row col-lg-12">
            <div class="col-5">
                <div class=" row">
                <label class="col-sm-2" style="width:50%">From</label><div class="col-sm-1"></div> 
                <div class="col-sm-9">                                      
                  <input class="form-control form-control-sm" type="date" [ngModel] ="submited_files.fromDateval | date:'yyyy-MM-dd'" (ngModelChange)="submited_files.fromDateval = $event" name="fromdate" id="fromdate">
                  
                </div>
                </div>
            </div>
            <div class="col-5">
                <div class=" row">
                <label class="col-sm-1"><div class="col-sm-1"></div> To<div class="col-sm-1"></div> </label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <div class="col-sm-9">
                    <input class="form-control form-control-sm" type="date"  [ngModel] ="submited_files.toDateval | date:'yyyy-MM-dd'" (ngModelChange)=" submited_files.toDateval = $event" name="todate" id="todate">                     
                </div>
                </div>
          </div>
                <div class="col-2">
              <button type="button" class="btn btn-info btn-sm"(click)="submittedFileList();">Search</button>
            </div>
        </div>
  </fieldset>    
<fieldset class="form-group">
  <legend> Submitted files <label class="high-light"></label></legend>
  <div class="container">
    <div style="width:100%;">
      <div class="pull-left" style="width: 60%;">
        <div class="row">
          <div class="col-9">     
            <div class="input-group mb-3">
              <input style="height:34px" id="typeahead-http" type="text" class="form-control" [(ngModel)]="submited_files.search_text" (keyup)="submittedFileList()" (keypress)="submittedFileList()"  (paste)= "submittedFileList()"  name="search_text" placeholder="Patient name / Membership id...">
              <div class="input-group-append">
                <!-- <span class="input-group-text">@example.com</span> -->
                <button style="padding: 7px;height:34px" class="input-group-text" (click)="clear_search()">
                  <i *ngIf="submited_files.search_text != ''"  class="fa fa-close"></i>
                  <i *ngIf="submited_files.search_text == ''" class="fa fa-search"></i></button>
              </div>
            </div> 
            <div class="invalid-feedback">Sorry, suggestions could not be loaded.</div>
                <ng-container *ngIf="status == 'Failed' && submited_files.search_text "><span  [hidden]="this.status == 'Success'" style="color:red;font-size:13px;"> Sorry, suggestions could not be loaded.</span></ng-container>
          </div>
        </div>
      </div>
    </div>
    <table class="table tbl table-hover table-striped table-bordered">
      <thead>
        <tr>
            <th style="width:1%">#</th>
            <th style="width:10%;" class="text-center">Date</th>
            <th style="width:9%;">Xml files</th>
            <th style="width:25%;">Company</th>
            <th style="width:5%;">User</th>
            <th >Status</th>
        </tr>
        <tr *ngIf="submitedFile_list.length === 0">
          <td colspan="6" class="text-center">No details available</td>
        </tr>
      </thead>
      <tbody>
          <tr *ngFor="let list of submitedFile_list; let i=index">
              <td>{{start+i+1}}</td>
              <!-- <td><input type="checkbox" name="" value="list.BILLING_ID" [checked]="checkall==1" ></td> -->
              <td class="text-center">{{formatDate(list.SUBMISSION_UPLOAD_DATE)}}</td>
              <td><a href = "{{filePath(list.FILE_NAME)}}" title="{{ list.FILE_NAME }}" target="_blank">
              {{list.FILE_NAME}}</a></td>
              <td>{{list.INSURANCE_PAYERS_NAME}}</td>
              <td>{{list.USERNAME}}</td>
              <td >{{list.SUBMISSION_ERROR_MESSAGE}}
                <i  title="Error details" style="cursor: pointer;" *ngIf="list.SUBMISSION_ERROR_DETAILS" class=" fa fa-info-circle text-danger" (click)="open(content,list)"></i>
              </td> 
              <!-- <td>{{list.OP_INS_PAYER}}</td> -->
          </tr>
      </tbody>
    </table>
    <ngb-pagination 
    class="d-flex justify-content-center"
    [(page)]="page"
    [pageSize]="pc"
    [collectionSize]="submitedFile_collection"
    [directionLinks]="true"
    [boundaryLinks]="true"
    aria-label="Default pagination"
    [maxSize]="3"
    (pageChange)="submittedFileList(page-1)"
    >
  </ngb-pagination>
  <pre>Current page : {{page}}</pre>
  <pre>Total records : {{submitedFile_collection}}</pre>
</div>
 
</fieldset>
</form>


<ng-template #content let-modal>
  <div class="modal-header">
    <div class="pull-right ">
      <h5 class="modal-title" id="modal-basic-title">
        Reported Error Details
      </h5>
    </div>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <label aria-hidden="true">&times;</label>
    </button>
  </div>
  <div class="modal-body">
    <div class="col-lg-12">
        <div class="clearfix"></div>
        <div class="form-group row">
            <div class="container form-group col-lg-12"  >
                <label style="text-align: left;" >
                  {{reporterror.SUBMISSION_ERROR_DETAILS}}</label>
            </div>
        </div>
    </div>
  </div>
</ng-template>