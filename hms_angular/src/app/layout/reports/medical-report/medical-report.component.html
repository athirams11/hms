<ng-template #rt let-r="result" let-t="term">
  <ngb-highlight [result]="r.OP_REGISTRATION_NUMBER+' - '+r.NAME" [term]="t"></ngb-highlight>
</ng-template>
<app-page-header [heading]="'Medical Report'" [icon]="'fa fa-gitlab'"></app-page-header>

<fieldset class="row form-group">
  <legend>Generate Medical Report</legend>
  <div class="row col-lg-12 container">
    <div class="form-group col-lg-4">
      <label for="p_type">Patient No</label><span class="text-danger">&nbsp;*</span>
      <input style="height: 31px;" [resultTemplate]="rt" id="typeahead-http" type="text" class="form-control"
        [class.is-invalid]="searchFailed" (selectItem)="set_item($event)" [ngbTypeahead]="cptsearch"
        [inputFormatter]="formatter" placeholder="Patient No" [(ngModel)]="p_no" (change)=getno(p_no); />
      <div style="height: 31px;" class="invalid-feedback" *ngIf="searchFailed">Sorry, suggestions could not be loaded.
      </div>
    </div>
    <div class="form-group col-lg-3">
      <label for="p_type">From Date</label>
      <input class="form-control form-control-sm" type="date" [ngModel]="fromdate | date:'yyyy-MM-dd'"
        (ngModelChange)="fromdate = $event" name="date" id="date" [max]="getToday()">
    </div>
    <div class="form-group col-lg-3">
      <label for="p_type">To Date</label>
      <input class="form-control form-control-sm" type="date" [ngModel]="todate | date:'yyyy-MM-dd'"
        (ngModelChange)="todate = $event" name="date" id="date" [max]="getToday()">
    </div>
    <div class="form-group col-lg-2">
      <label for="p_type">&nbsp;</label><br>
      <button class="btn btn-sm btn-info" (click)="pdfexport()">Generate</button>
    </div>
  </div>
  <div class="clearfix"></div>
  <div class="clearfix"></div>
  <div class="clearfix"></div>
  <div class="clearfix"></div>
  <div class="clearfix"></div>
</fieldset>

<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>
<div class="clearfix"></div>